<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="bower_components/jquery/dist/jquery.js"></script>

    <title>Game Test</title>

</head>
<body>



    <script>



        // ITINERARIO TEST ARRAY POINTS
        var itinerario_test = [[-7.240615,-35.931438],[-7.240836,-35.931953],[-7.240919,-35.931969],[-7.240968,-35.93196],[-7.241026,-35.931916],[-7.241056,-35.931863],[-7.24095,-35.931624],[-7.240512,-35.930657],[-7.240317,-35.930178],[-7.240139,-35.929838],[-7.240046,-35.929663],[-7.240011,-35.929597],[-7.239773,-35.929064],[-7.237735,-35.924307],[-7.237702,-35.923962],[-7.237683,-35.923831],[-7.237589,-35.923739],[-7.237394,-35.923514],[-7.237143,-35.922965],[-7.23612,-35.920733],[-7.236081,-35.920452],[-7.236128,-35.920316],[-7.236105,-35.920175],[-7.236018,-35.920061],[-7.235887,-35.920003],[-7.235641,-35.919659],[-7.235282,-35.918822],[-7.235228,-35.918696],[-7.233356,-35.914332],[-7.231633,-35.910411],[-7.2317,-35.910336],[-7.23174,-35.910243],[-7.231747,-35.910143],[-7.231721,-35.910045],[-7.231635,-35.909933],[-7.231518,-35.909874],[-7.231387,-35.909871],[-7.229501,-35.905498],[-7.229305,-35.905056],[-7.228608,-35.903478],[-7.228436,-35.903089],[-7.228109,-35.90235],[-7.227833,-35.901725],[-7.227653,-35.901318],[-7.227466,-35.900898],[-7.227252,-35.90041],[-7.2271,-35.900065],[-7.226868,-35.89957],[-7.226757,-35.899332],[-7.22646,-35.898697],[-7.226094,-35.897913],[-7.225671,-35.897008],[-7.225502,-35.896648],[-7.224872,-35.895301],[-7.224496,-35.894475],[-7.224296,-35.894035],[-7.224244,-35.893922],[-7.223959,-35.893297],[-7.223671,-35.892723],[-7.224246,-35.892648],[-7.224508,-35.89237],[-7.22457,-35.892306],[-7.224873,-35.891986],[-7.224823,-35.891684],[-7.224271,-35.891345],[-7.224201,-35.891239],[-7.224814,-35.889373],[-7.225326,-35.887733],[-7.22564,-35.8868],[-7.226003,-35.885726],[-7.226072,-35.88551],[-7.226302,-35.884818],[-7.226709,-35.884929],[-7.227139,-35.8849],[-7.227733,-35.884967],[-7.228576,-35.884788],[-7.228895,-35.884702],[-7.229211,-35.884637],[-7.229328,-35.884483],[-7.229364,-35.884233],[-7.229371,-35.883942],[-7.229394,-35.883786],[-7.229706,-35.882491],[-7.229817,-35.882026],[-7.229936,-35.881768],[-7.230183,-35.881479],[-7.230272,-35.881443],[-7.23078,-35.882118],[-7.230816,-35.882166],[-7.230975,-35.88249]];



        //CALL FUNCTION
        fill_times_array(calcula_media_velocidade(calcula_tempo_milli(
                calcula_distancia(L.latLng(-7.240615,-35.931438), L.latLng(-7.230975,-35.88249)),
                calcula_kmh_to_ms(100)),itinerario_test), itinerario_test);
        // INSTANCIA DE BUS
        var busIcon = new LeafIcon({iconUrl: 'bus.png'}),
                bustwoIcon = new LeafIcon({iconUrl: 'bus2.png'});


        // INSTANCIA DE MARKER MOVING
        var myMovingMarker = L.Marker.movingMarker(itinerario_test,
                time_stations, {autostart: true, icon: busIcon}).addTo(map);
        //START
        myMovingMarker.start();
        //DRAW PERCURSO

        //CALL FUNCTION
        desenha_percurso(itinerario_test, map);

        // ESCUTA PARA DISPLAY POPUP
        myMovingMarker.on('end', function() {
            myMovingMarker.bindPopup('<b>Welcome !</b>', {closeOnClick: false})
                    .openPopup();
        });

        //CALL FUNCTION
        set_message_time({lat: -7.240615,lng:-35.931438},{lat:-7.230975,lng:-35.88249}, 100);
        //SET UI MSG
        var container = $('#distance').text(msg);

        console.log(calcula_custos_viagem(2, calcula_distancia(L.latLng(-7.240615,-35.931438), L.latLng(-7.230975,-35.88249))));
        console.log(calcula_auto_pagamento_empresa(2, calcula_distancia(L.latLng(-7.240615,-35.931438), L.latLng(-7.230975,-35.88249))));


        //--------------------------------------------------------------------------------------------------------------------------------------


    </script>
</body>
</html>